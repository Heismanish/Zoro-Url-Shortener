<!DOCTYPE html>
<html lang="en">
	<head>
		<style>
			body {
				margin: 0 auto;
				font-family: sans-serif;
			}
			h1 {
				color: #3a3a3a;
				text-align: center;
				margin-bottom: 2rem;
			}
			.forms {
				font-size: 1.4rem;
				display: flex;
				justify-content: center;
				flex-direction: column;
				gap: 1rem;
				align-items: center;
				margin-bottom: 1rem;
			}
			.inputLabel {
				font-weight: 800;
			}
			.urlInput {
				font-size: 0.8rem;
				padding: 6px;
				border-radius: 0.5rem;
				border: solid #333 2px;
			}
			.urlInput:active {
				border-color: black;
			}
			.submitBtn {
				padding: 10px 20px;
				font-size: 1rem;
				color: white;
				border-radius: 1rem;
				background-color: #0074e4;
				border: none; /* Remove button border */
				cursor: pointer; /* Change cursor to pointer on hover */
				transition: background-color 0.3s ease;
			}
			.submitBtn:hover :active {
				background-color: #2489e7;
			}
			table {
				border-collapse: collapse; /* Combine adjacent borders into a single border */
				width: 100%; /* Make the table take the full width */
				margin-bottom: 20px; /* Add some spacing below the table */
			}
			table,
			th,
			td {
				border: 2px solid black; /* Add border to table, th, and td elements */
			}
			th,
			td {
				padding: 8px; /* Add padding for better readability */
				text-align: left; /* Align text to the left in table cells */
			}
		</style>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Zoro: Url Shortener</title>
	</head>
	<body>
		<h1>Zoro: URL Shortener</h1>
		<div class="forms">
			<form method="post" action="/url">
				<label for="url input" class="inputLabel"> Enter URL: </label>
				<input
					placeholder="https://example.com"
					name="url"
					type="text"
					class="urlInput"
				/>
				<button type="submit" class="submitBtn">Generate</button>
			</form>

			<% if(locals.id){ %>
			<p>URL Generated is : http://localhost:3001/<% id%></p>
			<% } %>
		</div>
		<div>
			<% if(locals.urls){ %>
			<table>
				<thead>
					<th>S.No.</th>
					<th>Originial URL</th>
					<th>Redirect URl</th>
					<th>Clicks</th>
				</thead>
				<tbody>
					<% urls.forEach((url,index) => { %>
					<tr>
						<td><%= index+1%></td>
						<td><%= url.shortId%></td>
						<td>
							<a href="<%= url.redirectURL%>" target="blank"
								><%= url.redirectURL%></a
							>
						</td>
						<td><%= url.visitHistory.length %></td>
					</tr>
					<% }); %>
				</tbody>
			</table>
			<% } %>
		</div>
	</body>
</html>
